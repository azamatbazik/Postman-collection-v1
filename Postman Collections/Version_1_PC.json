{
	"info": {
		"_postman_id": "a003b0fe-6654-4dea-a44a-43185d833cef",
		"name": "Test autotesting",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Продажи WEB Copy",
			"item": [
				{
					"name": "Доп.запросы",
					"item": [
						{
							"name": "Данные продаваемого товара",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c8b91e45-bada-4e52-b705-bc97f446906c",
										"exec": [
											"pm.collectionVariables.set(\"barcode\", pm.response.json().list[0].barcode);\r",
											"\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3ae02380-ce1f-4cd8-aeac-e5af23ca0122",
										"exec": [
											"pm.collectionVariables.set(\"type\", 1);"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "32176a23-e5ea-4edd-bc6d-15bd9d31cf8d",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/nom/product/all?first=0&pageSize=25&type={{type}}&storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"nom",
										"product",
										"all"
									],
									"query": [
										{
											"key": "first",
											"value": "0"
										},
										{
											"key": "pageSize",
											"value": "25"
										},
										{
											"key": "type",
											"value": "{{type}}"
										},
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Список вируальных счетов",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d0213832-d81f-4028-a428-e84ab5663834",
										"exec": [
											"pm.collectionVariables.set(\"posId\", pm.response.json().poses[0].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "61bfa20b-73ec-4552-88b2-f00e777518f8",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/pos/list?isVirtual=true&storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"pos",
										"list"
									],
									"query": [
										{
											"key": "isVirtual",
											"value": "true"
										},
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Список продаж",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "35b64555-f573-4a82-84c3-90e343219ccb",
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f70ef11c-ea8e-481c-a164-955e3a45cc08",
										"exec": [
											"pm.collectionVariables.set(\"currentDate\", Date.now()-1000);\r",
											"pm.collectionVariables.set(\"dateMonthAgo\", Date.now()-((86400*30)*1000));"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "2f6b2541-30d0-4b93-9fbc-5ac7eb739c31",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/list?first=0&pageSize=25&posId={{posId}}&dates=true&fromTime={{dateMonthAgo}}&toTime={{currentDate}}&storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"list"
									],
									"query": [
										{
											"key": "first",
											"value": "0"
										},
										{
											"key": "pageSize",
											"value": "25"
										},
										{
											"key": "posId",
											"value": "{{posId}}"
										},
										{
											"key": "dates",
											"value": "true"
										},
										{
											"key": "fromTime",
											"value": "{{dateMonthAgo}}"
										},
										{
											"key": "toTime",
											"value": "{{currentDate}}"
										},
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "User Info",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// // convert user's phone and password into hash, then save the hash into basic_auth\r",
											"// var hash = btoa(pm.globals.get(\"user_login_pass\"))\r",
											"// pm.globals.set(\"basic_auth\", \"Basic \" + hash);\r",
											"\r",
											"\r",
											"// // set headers for authorization\r",
											"// pm.request.headers.add({\r",
											"//     key: \"Authorization\",\r",
											"//     value: pm.globals.get(\"user_token\")\r",
											"// });\r",
											"\r",
											"// pm.request.headers.add({\r",
											"//     key: \"api-ver\",\r",
											"//     value: pm.globals.get(\"api_ver\")\r",
											"// });\r",
											"\r",
											"// pm.request.headers.add({\r",
											"//     key: \"client-ver\",\r",
											"//     value: pm.globals.get(\"client_ver\")\r",
											"// });\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"id": "aaab4a88-f42f-43eb-bf20-a32c444be0e7"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.globals.set(\"firstName\", pm.response.json().firstName);\r",
											"pm.collectionVariables.set(\"userId\", pm.response.json().id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "c504fc2b-5838-4f42-ac3d-7ce61281dc82"
									}
								}
							],
							"id": "cac46d7b-eb2f-4053-9d3b-3905a3045644",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/profile?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"profile"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "8f3ee47c-42f7-48e0-b6de-f6829cc59d59"
				},
				{
					"name": "Продажи на сайте",
					"item": [
						{
							"name": "Данные товара",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ea4262af-a713-48ae-a9a7-ab5414241f18",
										"exec": [
											"pm.collectionVariables.set(\"saleProductBarcode\", pm.response.json().barcode);\r",
											"\r",
											"const sellingPrice = parseInt(pm.response.json().productPrice.sellingPrice);\r",
											"pm.collectionVariables.set(\"sellingPriceSaleProduct\", sellingPrice);\r",
											"\r",
											"const quantityProduct = parseInt(1);\r",
											"pm.collectionVariables.set(\"quantitySaleProduct\", quantityProduct);\r",
											"\r",
											"const amountSale = parseInt(sellingPrice * quantityProduct);\r",
											"pm.collectionVariables.set(\"amountSale\", amountSale);\r",
											"\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "8d5461b8-9921-472a-8b02-6809b98aff23",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/nom/product/{{barcode}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"nom",
										"product",
										"{{barcode}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные счета",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d7013efe-30e8-4873-a554-dd2fa9eafdb3",
										"exec": [
											"var i = 0;\r",
											"if(pm.response.json().accounts[i].type.includes(\"POS\")){i++\r",
											"}\r",
											"\r",
											"pm.collectionVariables.set(\"scorePaymentSale\", pm.response.json().accounts[i].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"console.log(pm.collectionVariables.get(\"scorePaymentSale\"));"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "a4957917-4c56-4eb7-953b-071d419fc67f",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"account",
										"list"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Создание продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "538c202b-60ae-40b7-92ac-a79b329ae2e9",
										"exec": [
											"console.log(pm.response.json().saleId);\r",
											"pm.collectionVariables.set(\"saleId\", pm.response.json().saleId);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "270388b5-5213-4117-a60f-cac381909077",
										"exec": [
											"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-2000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "1fdbcc2c-20db-4914-9a38-6ebfd58804d5",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "saleJson",
											"value": "{\"userId\":{{userId}},\"id\":null,\"time\":\"{{isoTimestampNow}}\",\"amount\":{{amountSale}},\"comment\":\"\",\"isOfd\":false,\"customerId\":null,\"posId\":null,\"storeId\":null,\"receiptNo\":null}",
											"type": "text"
										},
										{
											"key": "saleProductsJson",
											"value": "[{\"barcode\":\"{{saleProductBarcode}}\",\"priceType\":\"RETAIL\",\"storeId\":{{StoreId}},\"quantity\":{{quantitySaleProduct}},\"price\":{{sellingPriceSaleProduct}},\"priceBefore\":{{sellingPriceSaleProduct}}}]",
											"type": "text"
										},
										{
											"key": "saleCustomFieldsJson",
											"value": "[]",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/create?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"create"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные созданной продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9ea8dc13-4480-4c9d-803a-a1be8c4fdff9",
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.collectionVariables.set(\"saleReceiptNo\", pm.response.json().sale.receiptNo);\r",
											"pm.collectionVariables.set(\"salePosId\", pm.response.json().sale.posId);\r",
											"\r",
											"let newQuantityProduct = parseInt((pm.response.json().saleProducts[0].quantity) + 1);\r",
											"pm.collectionVariables.set(\"newQuantitySaleProduct\", newQuantityProduct);\r",
											"console.log(pm.collectionVariables.get(\"newQuantitySaleProduct\"));\r",
											"\r",
											"let newSaleAmount = parseInt(newQuantityProduct * (pm.response.json().productStoreInfos[0].sellingPrice));\r",
											"pm.collectionVariables.set(\"newSaleAmount\", newSaleAmount);\r",
											"\r",
											"setTimeout(function(){}, 3000);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9910eb8f-fc7c-4d06-9b60-d32ba14ea34d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "e55abf19-d42b-4235-a0dc-550484511441",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/get/{{saleId}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"get",
										"{{saleId}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Изменение продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f309a741-b6e8-42d3-ab3d-8bb0ca566da0",
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"setTimeout(function(){}, 3000);\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c8473073-bd7c-472e-8012-950c80ed4b82",
										"exec": [
											"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-1500);\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "14e601c7-e8a1-4337-8a77-b9c7e889fcbb",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "saleJson",
											"value": "{\"userId\":{{userId}},\"id\":{{saleId}},\"time\":\"{{isoTimestampNow}}\",\"amount\":{{newSaleAmount}},\"comment\":\"\",\"isOfd\":false,\"customerId\":null,\"posId\":{{salePosId}},\"storeId\":{{StoreId}},\"receiptNo\":{{saleReceiptNo}}}",
											"type": "text"
										},
										{
											"key": "saleProductsJson",
											"value": "[{\"barcode\":{{saleProductBarcode}},\"storeId\":{{StoreId}},\"quantity\":{{newQuantitySaleProduct}},\"price\":{{sellingPriceSaleProduct}},\"priceBefore\":{{sellingPriceSaleProduct}}}]",
											"type": "text"
										},
										{
											"key": "saleCustomFieldsJson",
											"value": "[]",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/edit?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"edit"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Создание оплаты",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "374b1214-8957-48eb-95d4-90297d58f98c",
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e02cd6c5-ac89-4934-b2f5-c693e14279e7",
										"exec": [
											"setTimeout(function(){}, 5000);\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "fdac997c-8427-482b-ae59-3959079fd5dc",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"saleId\": {{saleId}},\r\n    \"accountId\": {{scorePaymentSale}},\r\n    \"customerId\": \"\",\r\n    \"amount\": {{newSaleAmount}},\r\n    \"useAgentCashback\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/payments/create?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"payments",
										"create"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Удаление продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "03fa673a-ad4a-40a5-87eb-40f4f4285d14"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 3000);"
										],
										"type": "text/javascript",
										"id": "01604716-67fe-4798-86f1-8f2dc1a15add"
									}
								}
							],
							"id": "d5896548-b4dc-4f99-9619-99842a2a7023",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/delete/{{saleId}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"delete",
										"{{saleId}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "8f3e133d-4640-4bf3-b15f-f86f04c00c3d"
				},
				{
					"name": "Продажи на сайте с контрагентом",
					"item": [
						{
							"name": "Данные товара 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.collectionVariables.set(\"saleProductBarcode\", pm.response.json().barcode);\r",
											"\r",
											"const sellingPrice = parseInt(pm.response.json().productPrice.sellingPrice);\r",
											"pm.collectionVariables.set(\"sellingPriceSaleProduct\", sellingPrice);\r",
											"\r",
											"const quantityProduct = parseInt(1);\r",
											"pm.collectionVariables.set(\"quantitySaleProduct\", quantityProduct);\r",
											"\r",
											"const amountSale = parseInt(sellingPrice * quantityProduct);\r",
											"pm.collectionVariables.set(\"amountSale\", amountSale);\r",
											"\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"id": "64337e45-1841-4ec8-8e4c-35edc801673c"
									}
								}
							],
							"id": "23a2f41b-2bcd-4c49-a79a-b4d32207a0ea",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/nom/product/{{barcode}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"nom",
										"product",
										"{{barcode}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные счета",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var i = 0;\r",
											"if(pm.response.json().accounts[i].type.includes(\"POS\")){i++\r",
											"}\r",
											"\r",
											"pm.collectionVariables.set(\"scorePaymentSale\", pm.response.json().accounts[i].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "59e8a07f-e86e-47e9-b6a7-b6e2b6ffd24f"
									}
								}
							],
							"id": "74f7e895-cbee-487c-b77a-4e71743f244e",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"account",
										"list"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные контрагента",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.collectionVariables.set(\"saleCustomerId\", pm.response.json().agents[0].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "db1e877c-55ab-44e8-ac72-d9f691033754"
									}
								}
							],
							"id": "705e5ce3-06ed-477f-ad5c-aef582503853",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/agent/list?agentType=CUSTOMER&first=0&pageSize=25&deleted=false&storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"agent",
										"list"
									],
									"query": [
										{
											"key": "agentType",
											"value": "CUSTOMER"
										},
										{
											"key": "first",
											"value": "0"
										},
										{
											"key": "pageSize",
											"value": "25"
										},
										{
											"key": "deleted",
											"value": "false"
										},
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Создание продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(pm.response.json().saleId);\r",
											"pm.collectionVariables.set(\"saleId\", pm.response.json().saleId);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "965addcd-75bf-473a-9467-6d4fc7d3d635"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-5000);"
										],
										"type": "text/javascript",
										"id": "16a6809d-0ae7-4aaf-b1bd-17e65335b125"
									}
								}
							],
							"id": "ef522864-e7d6-405f-b1f8-87f125124adc",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "saleJson",
											"value": "{\"userId\":{{userId}},\"id\":null,\"time\":\"{{isoTimestampNow}}\",\"amount\":{{amountSale}},\"comment\":\"\",\"isOfd\":false,\"customerId\":{{saleCustomerId}},\"posId\":null,\"storeId\":null,\"receiptNo\":null}",
											"type": "text"
										},
										{
											"key": "saleProductsJson",
											"value": "[{\"barcode\":\"{{saleProductBarcode}}\",\"storeId\":{{StoreId}},\"quantity\":{{quantitySaleProduct}},\"price\":{{sellingPriceSaleProduct}},\"priceBefore\":{{sellingPriceSaleProduct}}}]",
											"type": "text"
										},
										{
											"key": "paymentsJson",
											"value": "[{\"amount\":{{amountSale}},\"accountId\":{{scorePaymentSale}},\"time\":{{isoTimestampNow}},\"id\":null}]",
											"type": "text"
										},
										{
											"key": "saleCustomFieldsJson",
											"value": "[]",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/create?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"create"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "63bc03c3-3c02-4e6a-9035-9b043da12e4c"
				},
				{
					"name": "Возвраты продажи на сайте",
					"item": [
						{
							"name": "Данные товара 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.collectionVariables.set(\"refundProductBarcode\", pm.response.json().barcode);\r",
											"\r",
											"const sellingPrice = parseInt(pm.response.json().productPrice.sellingPrice);\r",
											"pm.collectionVariables.set(\"sellingPriceRefundProduct\", sellingPrice);\r",
											"\r",
											"const quantityProduct = parseInt(1);\r",
											"pm.collectionVariables.set(\"quantityRefundProduct\", quantityProduct);\r",
											"\r",
											"const amountRefund = parseInt(sellingPrice * quantityProduct);\r",
											"pm.collectionVariables.set(\"amountRefund\", amountRefund);\r",
											"\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"id": "ec1b6ff1-56de-4f37-b29e-278408c8066d"
									}
								}
							],
							"id": "9f264b42-8415-4580-aeff-d49413990f46",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/nom/product/{{barcode}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"nom",
										"product",
										"{{barcode}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные счета",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var i = 0;\r",
											"if(pm.response.json().accounts[i].type.includes(\"POS\")){i++\r",
											"}\r",
											"\r",
											"pm.collectionVariables.set(\"scorePaymentRefund\", pm.response.json().accounts[i].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "32e136b4-4cc7-494b-a0e9-fe2e150aa192"
									}
								}
							],
							"id": "8f5964e0-8dcc-40b3-a169-23e0efca3dde",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"account",
										"list"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Возвраты продажи на сайте",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3885ab70-7678-4951-9dfb-702bb793c5ef",
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"console.log(pm.response.json().refund.id);\r",
											"pm.collectionVariables.set(\"refundId\", pm.response.json().refund.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "be54ea9b-92b8-4996-8ce6-28326e06b8d3",
										"exec": [
											"pm.collectionVariables.set(\"timestampNow\", Date.now() - 1000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "63a20fa2-89f8-4dac-a71a-5fa65c90b4b8",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"refund\": {\r\n        \"id\": null,\r\n        \"saleId\": null,\r\n        \"customerId\": null,\r\n        \"cashierId\": null,\r\n        \"posId\": null,\r\n        \"userId\": null,\r\n        \"amount\": {{amountRefund}},\r\n        \"isOfd\": null,\r\n        \"paidAmount\": 0,\r\n        \"storeId\": null,\r\n        \"time\": \"{{timestampNow}}\",\r\n        \"note\": \"\",\r\n        \"cashbackAmount\": null\r\n    },\r\n    \"products\": [\r\n        {\r\n            \"barcode\": \"{{refundProductBarcode}}\",\r\n            \"priceType\": \"RETAIL\" ,\r\n            \"price\": {{sellingPriceRefundProduct}},\r\n            \"quantity\": {{quantityRefundProduct}}\r\n        }\r\n    ],\r\n    \"payments\": [\r\n        {\r\n            \"time\": {{timestampNow}},\r\n            \"amount\": {{amountRefund}},\r\n            \"accountId\": {{scorePaymentRefund}},\r\n            \"id\": null\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/refund/create?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"refund",
										"create"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные возврата продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.collectionVariables.set(\"refundCashierId\", pm.response.json().refund.cashierId);\r",
											"pm.collectionVariables.set(\"refundPosId\", pm.response.json().refund.posId);\r",
											"\r",
											"var newQuantityRefundProduct = parseInt((pm.response.json().products[0].quantity) + 1);\r",
											"pm.collectionVariables.set(\"newQuantityRefundProduct\", newQuantityRefundProduct);\r",
											"console.log(pm.collectionVariables.get(\"newQuantityRefundProduct\"));\r",
											"\r",
											"var newAmountRefund = parseInt(newQuantityRefundProduct * (pm.response.json().products[0].price));\r",
											"pm.collectionVariables.set(\"newAmountRefund\", newAmountRefund);"
										],
										"type": "text/javascript",
										"id": "0359a443-5f49-41ea-acce-25e3f8fd8023"
									}
								}
							],
							"id": "ea0cf463-9e8e-4310-8995-0824b10cbb6f",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/refund/get/{{refundId}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"refund",
										"get",
										"{{refundId}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Изменение данных в созданном возврате продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "af742758-97bc-474d-8e8d-54610ba4987d"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.collectionVariables.set(\"timestampNow\", Date.now() - 1000);"
										],
										"type": "text/javascript",
										"id": "376db601-ed5c-46ae-9a29-0ba9129e7860"
									}
								}
							],
							"id": "80175c74-08cb-44cc-8aa2-5a59e879cd3f",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"refund\": {\r\n        \"id\": {{refundId}},\r\n        \"saleId\": null,\r\n        \"customerId\": null,\r\n        \"cashierId\": {{refundCashierId}},\r\n        \"posId\": {{refundPosId}},\r\n        \"userId\": {{userId}},\r\n        \"amount\": {{newAmountRefund}},\r\n        \"isOfd\": false,\r\n        \"paidAmount\": {{amountRefund}},\r\n        \"storeId\": {{StoreId}},\r\n        \"time\": \"{{timestampNow}}\",\r\n        \"note\": \"\",\r\n        \"cashbackAmount\": null\r\n    },\r\n    \"products\": [\r\n        {\r\n            \"barcode\": {{refundProductBarcode}},\r\n            \"price\": {{sellingPriceRefundProduct}},\r\n            \"quantity\": {{newQuantityRefundProduct}}\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/refund/update/{{refundId}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"refund",
										"update",
										"{{refundId}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Удаление возврата продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "c01bad4c-b060-4f6a-9186-229c59a82180"
									}
								}
							],
							"id": "3c061121-61a4-438b-97ac-06c2286962ad",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/refund/delete/{{refundId}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"refund",
										"delete",
										"{{refundId}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "1e6a8bda-23d5-4c84-a06d-29aa6bf9932d"
				},
				{
					"name": "Возвраты продажи на сайте c контрагентом",
					"item": [
						{
							"name": "Данные товара 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.collectionVariables.set(\"saleProductBarcode\", pm.response.json().barcode);\r",
											"\r",
											"const sellingPrice = parseInt(pm.response.json().productPrice.sellingPrice);\r",
											"pm.collectionVariables.set(\"sellingPriceSaleProduct\", sellingPrice);\r",
											"\r",
											"const quantityProduct = parseInt(1);\r",
											"pm.collectionVariables.set(\"quantitySaleProduct\", quantityProduct);\r",
											"\r",
											"const amountSale = parseInt(sellingPrice * quantityProduct);\r",
											"pm.collectionVariables.set(\"amountSale\", amountSale);\r",
											"\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"id": "1bcc3192-6be5-4749-bce4-671411db6b7e"
									}
								}
							],
							"id": "c78f4095-5ad7-48d2-ba3e-6895d1b54215",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/nom/product/{{barcode}}?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"nom",
										"product",
										"{{barcode}}"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные счета",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var i = 0;\r",
											"if(pm.response.json().accounts[i].type.includes(\"POS\")){i++\r",
											"}\r",
											"\r",
											"pm.collectionVariables.set(\"scorePaymentSale\", pm.response.json().accounts[i].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "9043819b-44a0-462c-a644-55df08d7df71"
									}
								}
							],
							"id": "7648f09d-e737-45a7-842a-97593d67a9d4",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"account",
										"list"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Данные контрагента",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.collectionVariables.set(\"saleCustomerId\", pm.response.json().agents[0].id);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "5cd46e17-c822-487f-9c19-f0e15697cbc8"
									}
								}
							],
							"id": "fba989a2-6999-4177-94fe-16be11d8e489",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/rest/cabinet/org/agent/list?agentType=CUSTOMER&first=0&pageSize=25&deleted=false&storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"org",
										"agent",
										"list"
									],
									"query": [
										{
											"key": "agentType",
											"value": "CUSTOMER"
										},
										{
											"key": "first",
											"value": "0"
										},
										{
											"key": "pageSize",
											"value": "25"
										},
										{
											"key": "deleted",
											"value": "false"
										},
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Создание продажи",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(pm.response.json().saleId);\r",
											"pm.collectionVariables.set(\"saleId\", pm.response.json().saleId);\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "9f933c57-992e-445f-bf64-5b91657f1cfa"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-5000);"
										],
										"type": "text/javascript",
										"id": "3ec212da-01ca-4832-8671-50e875632bd7"
									}
								}
							],
							"id": "c1a0f040-343f-42c1-8daf-d94c6d3c6c0a",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "saleJson",
											"value": "{\"userId\":{{userId}},\"id\":null,\"time\":\"{{isoTimestampNow}}\",\"amount\":{{amountSale}},\"comment\":\"\",\"isOfd\":false,\"customerId\":{{saleCustomerId}},\"posId\":null,\"storeId\":null,\"receiptNo\":null}",
											"type": "text"
										},
										{
											"key": "saleProductsJson",
											"value": "[{\"barcode\":\"{{saleProductBarcode}}\",\"storeId\":{{StoreId}},\"quantity\":{{quantitySaleProduct}},\"price\":{{sellingPriceSaleProduct}},\"priceBefore\":{{sellingPriceSaleProduct}}}]",
											"type": "text"
										},
										{
											"key": "paymentsJson",
											"value": "[{\"amount\":{{amountSale}},\"accountId\":{{scorePaymentSale}},\"time\":{{isoTimestampNow}},\"id\":null}]",
											"type": "text"
										},
										{
											"key": "saleCustomFieldsJson",
											"value": "[]",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/sale/create?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"sale",
										"create"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Возвраты продажи на сайте",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4121896f-e5f5-49e6-9528-8b85ebc90c22",
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"console.log(pm.response.json().refund.id);\r",
											"pm.collectionVariables.set(\"refundSaleId\", pm.response.json().refund.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5f37d590-7d5c-4f8e-bc11-3e633b7ffe76",
										"exec": [
											"pm.collectionVariables.set(\"timestampNow\", Date.now() - 1000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "85684186-c2c2-4f2f-97ea-f2a066723ba8",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"refund\": {\r\n        \"id\": null,\r\n        \"saleId\": {{saleId}},\r\n        \"customerId\": {{saleCustomerId}},\r\n        \"cashierId\": null,\r\n        \"posId\": null,\r\n        \"userId\": null,\r\n        \"amount\": {{amountSale}},\r\n        \"isOfd\": null,\r\n        \"paidAmount\": 0,\r\n        \"storeId\": null,\r\n        \"time\": \"{{timestampNow}}\",\r\n        \"note\": \"\",\r\n        \"cashbackAmount\": null\r\n    },\r\n    \"products\": [\r\n        {\r\n            \"barcode\": \"{{saleProductBarcode}}\",\r\n            \"priceType\": \"RETAIL\" ,\r\n            \"price\": {{sellingPriceSaleProduct}},\r\n            \"quantity\": {{quantitySaleProduct}}\r\n        }\r\n    ],\r\n    \"payments\": [\r\n        {\r\n            \"time\": {{timestampNow}},\r\n            \"amount\": {{amountSale}},\r\n            \"accountId\": {{scorePaymentRefund}},\r\n            \"id\": null\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/rest/cabinet/opr/refund/create?storeId={{StoreId}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"rest",
										"cabinet",
										"opr",
										"refund",
										"create"
									],
									"query": [
										{
											"key": "storeId",
											"value": "{{StoreId}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "cd2e2428-8575-4f10-9609-7d561639d5ea"
				}
			],
			"id": "e9385065-1abd-411e-889d-adc4ae5a32f2"
		},
		{
			"name": "Приемка Copy",
			"item": [
				{
					"name": "Создание приемки",
					"item": [
						{
							"name": "Доп. запросы",
							"item": [
								{
									"name": "Список товаров",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "79d35e42-7d3e-442c-b5e7-992091d2f975",
												"exec": [
													"pm.collectionVariables.set(\"allBarcode\", pm.response.json().list[0].barcode);\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "57ae2dc0-620b-4d2d-82d6-4b713eba21a1",
												"exec": [
													"pm.collectionVariables.set(\"type\", 0);"
												],
												"type": "text/javascript"
											}
										}
									],
									"id": "6d7e57ef-2c95-46fe-9b65-9ee9d51a81c4",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"time\": \"2022-06-05T07:44:38.942Z\",\r\n    \"amount\": 200,\r\n    \"paymentType\": 0,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": 35,\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {\r\n                    \"measure\": 0,\r\n                    \"type\": 0,\r\n                    \"id\": 130300210,\r\n                    \"storeGroupId\": 13692,\r\n                    \"code\": \"4041811017401\",\r\n                    \"barcode\": 4041811017401,\r\n                    \"name\": \"АНАНАСЫ \\\"VITALAND\\\" КОЛЕЧКИ 580 мл. 1/12\",\r\n                    \"createTime\": 1648809659000,\r\n                    \"editTime\": \"2022-06-05T13:15:35+0600\",\r\n                    \"categoryId\": 1528393,\r\n                    \"isDeleted\": false,\r\n                    \"auxAttrTypeId\": 2\r\n                },\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": 200,\r\n                \"sellingPrice\": 270,\r\n                \"wholesalePrice\": 100,\r\n                \"markup\": 0,\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": 0,\r\n                \"storeId\": 15955,\r\n                \"productId\": 130300210,\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"stockQuantity\": 11,\r\n                \"category\": {\r\n                    \"id\": 1528392,\r\n                    \"name\": \"FunctionName\",\r\n                    \"isDeleted\": false,\r\n                    \"storeGroupId\": 5885,\r\n                    \"parentId\": null,\r\n                    \"globalCategory\": null,\r\n                    \"editTime\": 1643085560000,\r\n                    \"createTime\": 1643085560000\r\n                },\r\n                \"subCategory\": {\r\n                    \"id\": 1528393,\r\n                    \"name\": \"Testname\",\r\n                    \"isDeleted\": false,\r\n                    \"storeGroupId\": 5885,\r\n                    \"parentId\": 1528392,\r\n                    \"globalCategory\": null,\r\n                    \"editTime\": 1645441228000,\r\n                    \"createTime\": 1643085560000\r\n                }\r\n            },\r\n            \"quantity\": 1,\r\n            \"arrivalCost\": 200,\r\n            \"priceBefore\": 200,\r\n            \"oldArrivalCost\": 200,\r\n            \"discount\": 0,\r\n            \"sellingPrice\": 270,\r\n            \"oldSellingPrice\": 270,\r\n            \"sellingPriceCopy\": 270,\r\n            \"rowId\": 0,\r\n            \"price\": 200,\r\n            \"amount\": 200,\r\n            \"oldAmount\": 200,\r\n            \"oldMarkup\": 35\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"type\": 0,\r\n    \"isSupplyChange\": true,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": true,\r\n    \"supplierId\": 1595592,\r\n    \"accountId\": 1802753\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/nom/product/all?first=0&pageSize=25&type={{type}}&storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"nom",
												"product",
												"all"
											],
											"query": [
												{
													"key": "first",
													"value": "0"
												},
												{
													"key": "pageSize",
													"value": "25"
												},
												{
													"key": "type",
													"value": "{{type}}"
												},
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "User Info",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"// // convert user's phone and password into hash, then save the hash into basic_auth\r",
													"// var hash = btoa(pm.globals.get(\"user_login_pass\"))\r",
													"// pm.globals.set(\"basic_auth\", \"Basic \" + hash);\r",
													"\r",
													"\r",
													"// // set headers for authorization\r",
													"// pm.request.headers.add({\r",
													"//     key: \"Authorization\",\r",
													"//     value: pm.globals.get(\"user_token\")\r",
													"// });\r",
													"\r",
													"// pm.request.headers.add({\r",
													"//     key: \"api-ver\",\r",
													"//     value: pm.globals.get(\"api_ver\")\r",
													"// });\r",
													"\r",
													"// pm.request.headers.add({\r",
													"//     key: \"client-ver\",\r",
													"//     value: pm.globals.get(\"client_ver\")\r",
													"// });\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "274928d1-7f9d-456c-b394-f09364334d15"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.globals.set(\"firstName\", pm.response.json().firstName);\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "1efca87b-a1d8-4002-a27b-747da1e3e102"
											}
										}
									],
									"id": "98b52436-ec5a-43e2-ac7e-288f85c7e17c",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/org/profile?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"org",
												"profile"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"id": "e595a569-97e9-4afb-abac-a9a6be52b18e"
						},
						{
							"name": "Rest-ы по приемке",
							"item": [
								{
									"name": "Данные счетов 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"supplyPaymetnScoreId\", pm.response.json().accounts[0].id);\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "37fe5e88-4d95-42b4-bb5e-f25342de4df9"
											}
										}
									],
									"id": "2dd74036-792c-43f1-adac-753b7d0a1cca",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"org",
												"account",
												"list"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Список поставщиков",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"supplierId\", pm.response.json()[0].id);\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "15b73712-dcaa-4c4a-b94c-20a01514b91d"
											}
										}
									],
									"id": "6030a44d-bdbe-4b63-a9fd-e29c0c740f3a",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/org/agent/list-agent-names?agentType=SUPPLIER&storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"org",
												"agent",
												"list-agent-names"
											],
											"query": [
												{
													"key": "agentType",
													"value": "SUPPLIER"
												},
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Данные товара(безЦены)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "304572a3-9c80-4b77-8495-aaa40e2da800",
												"exec": [
													"pm.collectionVariables.set(\"dataOfProduct\", JSON.stringify(pm.response.json().product));\r",
													"pm.collectionVariables.set(\"stockQuantity\", pm.response.json().stockQuantity);\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"id": "b69186ed-a4f0-4273-9682-408214e12492",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/nom/product/findProductByBarcode?showServices=false&showPackages=false&showDeleted=true&barcode={{allBarcode}}&create=true&storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"nom",
												"product",
												"findProductByBarcode"
											],
											"query": [
												{
													"key": "showServices",
													"value": "false"
												},
												{
													"key": "showPackages",
													"value": "false"
												},
												{
													"key": "showDeleted",
													"value": "true"
												},
												{
													"key": "barcode",
													"value": "{{allBarcode}}"
												},
												{
													"key": "create",
													"value": "true"
												},
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Данные товара(сЦенами)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"let category = pm.response.json().category;\r",
													"if(category !== null ) {\r",
													"    pm.collectionVariables.set(\"dataOfCategory\", JSON.stringify(pm.response.json().category));\r",
													"\r",
													"\r",
													"    let subCategory = pm.response.json().subCategory;\r",
													"    if(subCategory !== null) {\r",
													"        pm.collectionVariables.set(JSON.stringify(\"dataOfSubCategory\", JSON.stringify(pm.response.json().subCategory)));\r",
													"    }else{\r",
													"        pm.collectionVariables.set(\"dataOfSubCategory\", JSON.stringify({\"id\":null}));\r",
													"    }\r",
													"}\r",
													"\r",
													"pm.collectionVariables.set(\"supplyProductId\", pm.response.json().productInfo.id);\r",
													"pm.collectionVariables.set(\"supplyArrivalCostProductPrise\", pm.response.json().productPrice.arrivalCost);\r",
													"pm.collectionVariables.set(\"supplySellingPriceProductPrise\", pm.response.json().productPrice.sellingPrice);\r",
													"pm.collectionVariables.set(\"supplyWholesalePriceProductPrice\", pm.response.json().productPrice.wholesalePrice);\r",
													"\r",
													"var supplyArrivalCostProduct = parseFloat(pm.response.json().productPrice.arrivalCost);\r",
													"var supplySellingPriceProduct = parseInt(pm.response.json().productPrice.sellingPrice);\r",
													"\r",
													"var amountMarkup = supplySellingPriceProduct - supplyArrivalCostProduct;\r",
													"var onePercent = supplyArrivalCostProduct / 100;\r",
													"var percentMarkup = amountMarkup / onePercent;\r",
													"pm.collectionVariables.set(\"percentMarkup\", percentMarkup);\r",
													"\r",
													"var quantityProduct = 1;\r",
													"pm.collectionVariables.set(\"quantityProduct\", quantityProduct);\r",
													"var supplyAmount = supplyArrivalCostProduct * quantityProduct;\r",
													"\r",
													"pm.collectionVariables.set(\"supplyAmount\", supplyAmount);\r",
													"\r",
													"var newQuantityProduct = 10;\r",
													"var newSupplyArrivalCostProduct = supplyArrivalCostProduct + 10;\r",
													"var supplySumMarkup = (newSupplyArrivalCostProduct / 100) * percentMarkup;\r",
													"var newSupplySellingPriceProduct = newSupplyArrivalCostProduct + supplySumMarkup;\r",
													"var newSupplyAmount = newSupplyArrivalCostProduct * newQuantityProduct;\r",
													"pm.collectionVariables.set(\"newQuantityProduct\", newQuantityProduct);\r",
													"pm.collectionVariables.set(\"newSupplyAmount\", newSupplyAmount);\r",
													"pm.collectionVariables.set(\"newSupplyArrivalCostProduct\", newSupplyArrivalCostProduct);\r",
													"pm.collectionVariables.set(\"newSupplySellingPriceProduct\", newSupplySellingPriceProduct);\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "51ec9fcc-312a-40cc-b5a1-e5b4c611ccda"
											}
										}
									],
									"id": "e9518eed-8338-492e-9a9b-d2b21af7459e",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/nom/product/{{allBarcode}}?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"nom",
												"product",
												"{{allBarcode}}"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create and provide supply",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-2000);\r",
													""
												],
												"type": "text/javascript",
												"id": "08224d4a-1bd7-452b-bda5-45ccdc0489f4"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"\r",
													"console.log(pm.response.json().id);\r",
													"pm.collectionVariables.set(\"supplyId\", pm.response.json().id);"
												],
												"type": "text/javascript",
												"id": "ae858a78-7f65-439d-be1e-78e364549d23"
											}
										}
									],
									"id": "63561d55-5f45-449d-ba8a-8e89d9ce2d73",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"time\": \"{{isoTimestampNow}}\",\r\n    \"amount\": {{supplyAmount}},\r\n    \"paymentType\": 0,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": {{percentMarkup}},\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {{dataOfProduct}},\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": {{supplyArrivalCostProductPrise}},\r\n                \"sellingPrice\": {{supplySellingPriceProductPrise}},\r\n                \"wholesalePrice\": {{supplyWholesalePriceProductPrice}},\r\n                \"markup\": {{percentMarkup}},\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": null,\r\n                \"storeId\": {{StoreId}},\r\n                \"productId\": {{supplyProductId}},\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"stockQuantity\": {{stockQuantity}},\r\n                \"category\": {{dataOfCategory}},\r\n                \"subCategory\": {{dataOfSubCategory}}\r\n            },\r\n            \"quantity\": {{quantityProduct}},\r\n            \"arrivalCost\": {{supplyArrivalCostProductPrise}},\r\n            \"priceBefore\": {{supplySellingPriceProductPrise}},\r\n            \"oldArrivalCost\": {{supplyArrivalCostProductPrise}},\r\n            \"discount\": 0,\r\n            \"sellingPrice\": {{supplySellingPriceProductPrise}},\r\n            \"oldSellingPrice\": {{supplySellingPriceProductPrise}},\r\n            \"sellingPriceCopy\": {{supplySellingPriceProductPrise}},\r\n            \"rowId\": 0,\r\n            \"price\": {{supplyArrivalCostProductPrise}},\r\n            \"amount\": {{supplyAmount}},\r\n            \"oldAmount\": {{supplyAmount}},\r\n            \"oldMarkup\": 0\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"type\": 0,\r\n    \"isSupplyChange\": true,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": true,\r\n    \"supplierId\": {{supplierId}},\r\n    \"accountId\": {{supplyPaymetnScoreId}}\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/create?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"create"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create supply as draft",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"\r",
													"console.log(pm.response.json().id);\r",
													"pm.collectionVariables.set(\"draftSupplyId\", pm.response.json().id);\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "11fcc827-9875-4f76-b3df-345a78382936"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-2000);\r",
													""
												],
												"type": "text/javascript",
												"id": "6bf3661d-6c4e-435e-9835-20e2670b660f"
											}
										}
									],
									"id": "b3d30e05-a51f-4a2e-9c0e-efd559703462",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"time\": \"{{isoTimestampNow}}\",\r\n    \"amount\": {{newSupplyAmount}},\r\n    \"paymentType\": 2,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": {{percentMarkup}},\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {{dataOfProduct}},\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": {{newSupplyArrivalCostProduct}},\r\n                \"sellingPrice\": {{newSupplySellingPriceProduct}},\r\n                \"wholesalePrice\": {{supplyWholesalePriceProductPrice}},\r\n                \"markup\": {{percentMarkup}},\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": null,\r\n                \"storeId\": {{StoreId}},\r\n                \"productId\": {{supplyProductId}},\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"stockQuantity\": {{stockQuantity}},\r\n                \"category\": {{dataOfCategory}},\r\n                \"subCategory\": {{dataOfSubCategory}}\r\n            },\r\n            \"quantity\": {{newQuantityProduct}},\r\n            \"arrivalCost\": {{newSupplyArrivalCostProduct}},\r\n            \"priceBefore\": {{newSupplySellingPriceProduct}},\r\n            \"oldArrivalCost\": {{newSupplyArrivalCostProduct}},\r\n            \"discount\": 0,\r\n            \"sellingPrice\": {{newSupplySellingPriceProduct}},\r\n            \"oldSellingPrice\": {{newSupplySellingPriceProduct}},\r\n            \"sellingPriceCopy\": {{newSupplySellingPriceProduct}},\r\n            \"rowId\": 0,\r\n            \"price\": {{newSupplyArrivalCostProduct}},\r\n            \"amount\": {{newSupplyAmount}},\r\n            \"oldAmount\": {{newSupplyAmount}},\r\n            \"oldMarkup\": 0\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"type\": 0,\r\n    \"isSupplyChange\": true,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": true,\r\n    \"supplierId\": {{supplierId}}\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/createTemplate?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"createTemplate"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "параметры приемки",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonObject = pm.response.json();\r",
													"var jsonObjectAsString = JSON.stringify(jsonObject);\r",
													"pm.collectionVariables.set(\"supplyDraft\", jsonObjectAsString);\r",
													"jsonObject.supplyProducts[0].quantity += 5;\r",
													"pm.collectionVariables.set(\"supplyDraft\", JSON.stringify(jsonObject));\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "97287bf2-5bf8-4bef-b51c-a7d593d5b297"
											}
										}
									],
									"id": "35cd5ace-26df-4fe3-bd3d-db712d6dd837",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/{{draftSupplyId}}?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"{{draftSupplyId}}"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Update supply as draft",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"let newSupplyDraft = pm.collectionVariables.get(\"supplyDraft\");"
												],
												"type": "text/javascript",
												"id": "75991b6a-2d38-49a1-a4ea-6bcb1be40e4e"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-2000);\r",
													"// var updateNewQuantity = parseInt(pm.collectionVariables.supplyDraft) + 5;\r",
													"// pm.collectionVariables.set(\"updateNewQuantity\", updateNewQuantity);"
												],
												"type": "text/javascript",
												"id": "60b0be01-7c45-4985-a2c2-df2e0aea2070"
											}
										}
									],
									"id": "d2029bad-79a4-4554-9f5c-8d8eae474b69",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{{supplyDraft}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/editTemplate?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"editTemplate"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "параметры измененной приемки",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonObject = pm.response.json();\r",
													"var jsonObjectAsString = JSON.stringify(jsonObject);\r",
													"pm.collectionVariables.set(\"supplyDraft\", jsonObjectAsString);\r",
													"jsonObject.paymentType = 0;\r",
													"jsonObject.accountId = (pm.collectionVariables.get(\"supplyPaymetnScoreId\"));\r",
													"pm.collectionVariables.set(\"supplyDraft\", JSON.stringify(jsonObject));\r",
													"\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "7579e257-2a46-485d-b837-7c3bc9a8d332"
											}
										}
									],
									"id": "ad542fe8-18fa-40fc-84b7-025eff21d954",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/{{draftSupplyId}}?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"{{draftSupplyId}}"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Provide draft supply",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var date = Date.now()-2000\r",
													"pm.collectionVariables.set(\"isoTimestampNow\", date);\r",
													""
												],
												"type": "text/javascript",
												"id": "681cfe6c-2fa8-47d2-b2fa-6e8179b0fad3"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"var jsonObject = pm.response.json();\r",
													"var jsonObjectAsString = JSON.stringify(jsonObject);\r",
													"pm.collectionVariables.set(\"supplyDraft\", jsonObjectAsString);\r",
													"jsonObject.paymentType = 2;\r",
													"delete jsonObject.accountId;\r",
													"pm.collectionVariables.set(\"supplyDraft\", JSON.stringify(jsonObject));"
												],
												"type": "text/javascript",
												"id": "382c63cd-c31d-4447-b77d-905ea0542b9f"
											}
										}
									],
									"id": "f1075aad-32e8-4fd4-9c40-0feb234792a1",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{{supplyDraft}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/provideTemplate?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"provideTemplate"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "параметры измененной приемки Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonObject = pm.response.json();\r",
													"var jsonObjectAsString = JSON.stringify(jsonObject);\r",
													"pm.collectionVariables.set(\"supplyDraft\", jsonObjectAsString);\r",
													"jsonObject.paymentType = 2;\r",
													"jsonObject.accountId = (pm.collectionVariables.get(\"supplyPaymetnScoreId\"));\r",
													"pm.collectionVariables.set(\"supplyDraft\", JSON.stringify(jsonObject));\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "e1863f93-26d4-4b0b-97ee-679e943688aa"
											}
										}
									],
									"id": "d176097a-b8b2-47a8-b566-a5f984d5eab3",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/{{draftSupplyId}}?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"{{draftSupplyId}}"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "unprovide supply",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "db8e724e-78ee-4353-b593-13c6deed9eda"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "9a02b2fc-23a8-41ef-8607-1fac6cb11a9f"
											}
										}
									],
									"id": "ef3f7b71-769c-4585-b4d7-f3c91fbcfba2",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{{supplyDraft}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/unprovide?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"unprovide"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "delete draft supply",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "c628e09c-af5e-4697-8bd7-b1d09267a27f"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"// var jsonObject = pm.response.json();\r",
													"// var jsonObjectAsString = JSON.stringify(jsonObject);\r",
													"// pm.collectionVariables.set(\"supplyDraft\", jsonObjectAsString);\r",
													"\r",
													"\r",
													"// jsonObject.SDASnAME = 1100\r",
													"\r",
													"// var jsonString = JSON.stringify(jsonObject);\r",
													"\r",
													"// delete jsonObject.amount;\r",
													"// var newVar = JSON.parse(\"supplyDraft\");\r",
													"// newVar = (pm.supplyDraft)\r",
													"// pm.collectionVariables.set(\"supplyDraft\", JSON.stringify(newVar));"
												],
												"type": "text/javascript",
												"id": "6ef28189-5fe8-47c6-a391-216a513cf43f"
											}
										}
									],
									"id": "9dcd15c1-42d2-4f40-8bd4-1813eef91127",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"time\": \"2022-06-13T13:52:00.000Z\",\r\n    \"amount\": 16500,\r\n    \"paymentType\": 2,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": 0,\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {\r\n                    \"measure\": 0,\r\n                    \"type\": 0,\r\n                    \"auxAttrTypeID\": 2,\r\n                    \"id\": 127239894,\r\n                    \"storeGroupId\": 13692,\r\n                    \"code\": \"4607125989348\",\r\n                    \"barcode\": 4607125989348,\r\n                    \"name\": \"Туба обычная\",\r\n                    \"editTime\": \"2022-06-13T19:52:13+0600\",\r\n                    \"categoryId\": 1540293,\r\n                    \"subCategoryId\": null,\r\n                    \"isDeleted\": false\r\n                },\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": 1100,\r\n                \"sellingPrice\": 1100,\r\n                \"wholesalePrice\": 0,\r\n                \"markup\": 0,\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": null,\r\n                \"storeId\": 15955,\r\n                \"barcode\": 4607125989348,\r\n                \"productId\": 127239894,\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"editTime\": \"2022-06-13T19:52:12+0600\",\r\n                \"stockQuantity\": 186\r\n            },\r\n            \"id\": 387604986,\r\n            \"supply\": {\r\n                \"id\": 23390382,\r\n                \"supplierId\": 1595592,\r\n                \"amount\": 16500,\r\n                \"comment\": null,\r\n                \"time\": \"2022-06-13T19:52:10+0600\",\r\n                \"paymentType\": 2,\r\n                \"type\": 0\r\n            },\r\n            \"storeId\": 15955,\r\n            \"productId\": 127239894,\r\n            \"barcode\": 4607125989348,\r\n            \"quantity\": 15,\r\n            \"price\": 1100,\r\n            \"time\": \"2022-06-13T13:52:10.000Z\",\r\n            \"discount\": 0,\r\n            \"priceBefore\": 1100,\r\n            \"arrivalCost\": 1100,\r\n            \"sellingPrice\": 1100,\r\n            \"type\": 0,\r\n            \"draftName\": \"Туба обычная\",\r\n            \"product\": {\r\n                \"auxAttrTypeID\": 2,\r\n                \"id\": 127239894,\r\n                \"storeGroupId\": 13692,\r\n                \"code\": \"4607125989348\",\r\n                \"barcode\": 4607125989348,\r\n                \"name\": \"Туба обычная\",\r\n                \"editTime\": \"2022-06-13T19:52:13+0600\",\r\n                \"categoryId\": 1540293,\r\n                \"subCategoryId\": null,\r\n                \"type\": 0,\r\n                \"measure\": 0,\r\n                \"isDeleted\": false\r\n            },\r\n            \"amount\": 16500,\r\n            \"oldSellingPrice\": 1100,\r\n            \"sellingPriceCopy\": 1100,\r\n            \"rowId\": 0,\r\n            \"oldMarkup\": 0\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"id\": 23390382,\r\n    \"supplierId\": 1595592,\r\n    \"comment\": null,\r\n    \"type\": 0,\r\n    \"supplier\": \"поставщик который поставщик (Поставщик)\",\r\n    \"supplierName\": \"поставщик который поставщик\",\r\n    \"fTime\": null,\r\n    \"user\": \"Владимир\",\r\n    \"account\": null,\r\n    \"debt\": null,\r\n    \"paidAmount\": null,\r\n    \"sellingAmount\": null,\r\n    \"arrivalAmount\": null,\r\n    \"forfeit\": null,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": true\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/removeTemplate/{{draftSupplyId}}?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"removeTemplate",
												"{{draftSupplyId}}"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"id": "f5d792b4-0ecb-4453-8bb2-054b73336fbf"
						},
						{
							"name": "Быстрая приемка",
							"item": [
								{
									"name": "Данные счетов 1 Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"supplyPaymetnScoreId\", pm.response.json().accounts[0].id);\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "28771159-5d2e-4ab7-84c6-91cb421c0832"
											}
										}
									],
									"id": "5c45e1cc-3355-42b0-ac11-4637842dd373",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"org",
												"account",
												"list"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Список поставщиков Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"supplierId\", pm.response.json()[0].id);\r",
													"pm.collectionVariables.set(\"supplierName\", pm.response.json()[0].name);\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "d15bcb6c-2a04-44cb-a548-2d025a465f3a"
											}
										}
									],
									"id": "e6e03a77-24f0-440b-b55e-f57f80419f0b",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/org/agent/list-agent-names?agentType=SUPPLIER&storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"org",
												"agent",
												"list-agent-names"
											],
											"query": [
												{
													"key": "agentType",
													"value": "SUPPLIER"
												},
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "создание быстрой приемки",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"console.log(pm.response.json().id);\r",
													"pm.collectionVariables.set(\"fastSupplyId\", pm.response.json().id);\r",
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "2dd02b11-ade4-4fe7-85b3-f0620f59c46e"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-2000);\r",
													""
												],
												"type": "text/javascript",
												"id": "309ade95-41f9-47f3-b854-bfdbbb407dfb"
											}
										}
									],
									"id": "25894e92-0205-4bb2-ad61-617525b93d75",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"time\": \"{{isoTimestampNow}}\",\r\n    \"amount\": \"1000\",\r\n    \"paymentType\": 0,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"type\": 1,\r\n    \"supplierId\": {{supplierId}},\r\n    \"accountId\": {{supplyPaymetnScoreId}},\r\n    \"consignmentComment\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/create?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"create"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Данные товара(безЦены) Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"dataOfProduct\", JSON.stringify(pm.response.json().product));\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.collectionVariables.set(\"stockQuantity\", pm.response.json().stockQuantity);"
												],
												"type": "text/javascript",
												"id": "24d1447c-523c-47e3-8c7e-7adacc235198"
											}
										}
									],
									"id": "b17a6235-335d-412b-b517-b92fcd3eb03c",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/nom/product/findProductByBarcode?showServices=false&showPackages=false&showDeleted=true&barcode={{allBarcode}}&create=true&storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"nom",
												"product",
												"findProductByBarcode"
											],
											"query": [
												{
													"key": "showServices",
													"value": "false"
												},
												{
													"key": "showPackages",
													"value": "false"
												},
												{
													"key": "showDeleted",
													"value": "true"
												},
												{
													"key": "barcode",
													"value": "{{allBarcode}}"
												},
												{
													"key": "create",
													"value": "true"
												},
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Данные товара(сЦенами) Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"let category = pm.response.json().category;\r",
													"if(category !== null ) {\r",
													"    pm.collectionVariables.set(\"dataOfCategory\", JSON.stringify(pm.response.json().category));\r",
													"\r",
													"\r",
													"    let subCategory = pm.response.json().subCategory;\r",
													"    if(subCategory !== null) {\r",
													"        pm.collectionVariables.set(JSON.stringify(\"dataOfSubCategory\", JSON.stringify(pm.response.json().subCategory)));\r",
													"    }else{\r",
													"        pm.collectionVariables.set(\"dataOfSubCategory\", JSON.stringify({\"id\":null}));\r",
													"    }\r",
													"}\r",
													"\r",
													"pm.collectionVariables.set(\"supplyProductId\", pm.response.json().productInfo.id);\r",
													"pm.collectionVariables.set(\"supplyArrivalCostProductPrise\", pm.response.json().productPrice.arrivalCost);\r",
													"pm.collectionVariables.set(\"supplySellingPriceProductPrise\", pm.response.json().productPrice.sellingPrice);\r",
													"pm.collectionVariables.set(\"supplyWholesalePriceProductPrice\", pm.response.json().productPrice.wholesalePrice);\r",
													"\r",
													"var supplyArrivalCostProduct = parseFloat(pm.response.json().productPrice.arrivalCost);\r",
													"var supplySellingPriceProduct = parseInt(pm.response.json().productPrice.sellingPrice);\r",
													"\r",
													"var amountMarkup = supplySellingPriceProduct - supplyArrivalCostProduct;\r",
													"var onePercent = supplyArrivalCostProduct / 100;\r",
													"var percentMarkup = amountMarkup / onePercent;\r",
													"pm.collectionVariables.set(\"percentMarkup\", percentMarkup);\r",
													"\r",
													"var quantityProduct = 1;\r",
													"pm.collectionVariables.set(\"quantityProduct\", quantityProduct);\r",
													"var supplyAmount = supplyArrivalCostProduct * quantityProduct;\r",
													"\r",
													"pm.collectionVariables.set(\"supplyAmount\", supplyAmount);\r",
													"\r",
													"var newQuantityProduct = 10;\r",
													"var newSupplyArrivalCostProduct = supplyArrivalCostProduct + 10;\r",
													"var supplySumMarkup = (newSupplyArrivalCostProduct / 100) * percentMarkup;\r",
													"var newSupplySellingPriceProduct = newSupplyArrivalCostProduct + supplySumMarkup;\r",
													"var newSupplyAmount = newSupplyArrivalCostProduct * newQuantityProduct;\r",
													"pm.collectionVariables.set(\"newQuantityProduct\", newQuantityProduct);\r",
													"pm.collectionVariables.set(\"newSupplyAmount\", newSupplyAmount);\r",
													"pm.collectionVariables.set(\"newSupplyArrivalCostProduct\", newSupplyArrivalCostProduct);\r",
													"pm.collectionVariables.set(\"newSupplySellingPriceProduct\", newSupplySellingPriceProduct);\r",
													"\r",
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "7fc44a59-7839-49b2-b22b-73b41ba20752"
											}
										}
									],
									"id": "2f206151-6df0-46af-bdc1-712d521f26cb",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{host}}/rest/cabinet/nom/product/{{allBarcode}}?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"nom",
												"product",
												"{{allBarcode}}"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Проведение быстрой приемки с товарами",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7e4dcc95-bd5d-4b15-aa2e-2c193441d695",
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"id": "c2acb8eb-6c9b-434b-b52d-422757eba5f2",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"time\": \"{{$isoTimestamp}}\",\r\n    \"amount\": {{supplyAmount}},\r\n    \"paymentType\": 0,\r\n    \"payment\": 1000,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": {{percentMarkup}},\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {{dataOfProduct}},\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": {{supplyArrivalCostProductPrise}},\r\n                \"sellingPrice\": {{supplySellingPriceProductPrise}},\r\n                \"wholesalePrice\": {{supplyWholesalePriceProductPrice}},\r\n                \"markup\": {{percentMarkup}},\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": null,\r\n                \"storeId\": {{StoreId}},\r\n                \"productId\": {{supplyProductId}},\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"stockQuantity\": {{stockQuantity}},\r\n                \"category\": {{dataOfCategory}},\r\n                \"subCategory\": {{dataOfSubCategory}}\r\n            },\r\n            \"quantity\": {{quantityProduct}},\r\n            \"arrivalCost\": {{supplyArrivalCostProductPrise}},\r\n            \"priceBefore\": {{supplySellingPriceProductPrise}},\r\n            \"oldArrivalCost\": {{supplyArrivalCostProductPrise}},\r\n            \"discount\": 0,\r\n            \"sellingPrice\": {{supplySellingPriceProductPrise}},\r\n            \"oldSellingPrice\": {{supplySellingPriceProductPrise}},\r\n            \"sellingPriceCopy\": {{supplySellingPriceProductPrise}},\r\n            \"rowId\": 0,\r\n            \"price\": {{supplyArrivalCostProductPrise}},\r\n            \"amount\": {{supplyAmount}},\r\n            \"oldAmount\": {{supplyAmount}},\r\n            \"oldMarkup\": 0\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"id\": {{fastSupplyId}},\r\n    \"supplierId\": {{supplierId}},\r\n    \"comment\": null,\r\n    \"type\": 1,\r\n    \"supplier\": \"{{supplierName}}\",\r\n    \"supplierName\": \"{{supplierName}}\",\r\n    \"fTime\": null,\r\n    \"user\": \"{{firstName}}\",\r\n    \"account\": null,\r\n    \"debt\": null,\r\n    \"paidAmount\": null,\r\n    \"sellingAmount\": null,\r\n    \"arrivalAmount\": null,\r\n    \"forfeit\": null,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": false,\r\n    \"isSupplyChange\": true\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/rest/cabinet/opr/supplies/edit?storeId={{StoreId}}",
											"host": [
												"{{host}}"
											],
											"path": [
												"rest",
												"cabinet",
												"opr",
												"supplies",
												"edit"
											],
											"query": [
												{
													"key": "storeId",
													"value": "{{StoreId}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"id": "ddea5d20-a624-441e-b461-385a5877501c"
						}
					],
					"id": "37e211c0-554c-477e-9306-80a1347caea3"
				}
			],
			"id": "dd9d0cdb-0c1a-4ae9-9257-c27806479772"
		},
		{
			"name": "Платежи Copy",
			"item": [
				{
					"name": "Список товаров Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"allBarcode\", pm.response.json().list[0].barcode);\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "a8fc862d-04bc-4e0d-812e-b90372929364"
							}
						}
					],
					"id": "7d876dea-08db-44a9-9d87-de2f522aca75",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"time\": \"2022-06-05T07:44:38.942Z\",\r\n    \"amount\": 200,\r\n    \"paymentType\": 0,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": 35,\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {\r\n                    \"measure\": 0,\r\n                    \"type\": 0,\r\n                    \"id\": 130300210,\r\n                    \"storeGroupId\": 13692,\r\n                    \"code\": \"4041811017401\",\r\n                    \"barcode\": 4041811017401,\r\n                    \"name\": \"АНАНАСЫ \\\"VITALAND\\\" КОЛЕЧКИ 580 мл. 1/12\",\r\n                    \"createTime\": 1648809659000,\r\n                    \"editTime\": \"2022-06-05T13:15:35+0600\",\r\n                    \"categoryId\": 1528393,\r\n                    \"isDeleted\": false,\r\n                    \"auxAttrTypeId\": 2\r\n                },\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": 200,\r\n                \"sellingPrice\": 270,\r\n                \"wholesalePrice\": 100,\r\n                \"markup\": 0,\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": 0,\r\n                \"storeId\": 15955,\r\n                \"productId\": 130300210,\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"stockQuantity\": 11,\r\n                \"category\": {\r\n                    \"id\": 1528392,\r\n                    \"name\": \"FunctionName\",\r\n                    \"isDeleted\": false,\r\n                    \"storeGroupId\": 5885,\r\n                    \"parentId\": null,\r\n                    \"globalCategory\": null,\r\n                    \"editTime\": 1643085560000,\r\n                    \"createTime\": 1643085560000\r\n                },\r\n                \"subCategory\": {\r\n                    \"id\": 1528393,\r\n                    \"name\": \"Testname\",\r\n                    \"isDeleted\": false,\r\n                    \"storeGroupId\": 5885,\r\n                    \"parentId\": 1528392,\r\n                    \"globalCategory\": null,\r\n                    \"editTime\": 1645441228000,\r\n                    \"createTime\": 1643085560000\r\n                }\r\n            },\r\n            \"quantity\": 1,\r\n            \"arrivalCost\": 200,\r\n            \"priceBefore\": 200,\r\n            \"oldArrivalCost\": 200,\r\n            \"discount\": 0,\r\n            \"sellingPrice\": 270,\r\n            \"oldSellingPrice\": 270,\r\n            \"sellingPriceCopy\": 270,\r\n            \"rowId\": 0,\r\n            \"price\": 200,\r\n            \"amount\": 200,\r\n            \"oldAmount\": 200,\r\n            \"oldMarkup\": 35\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"type\": 0,\r\n    \"isSupplyChange\": true,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": true,\r\n    \"supplierId\": 1595592,\r\n    \"accountId\": 1802753\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/nom/product/all?first=0&pageSize=25&type=0&storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"nom",
								"product",
								"all"
							],
							"query": [
								{
									"key": "first",
									"value": "0"
								},
								{
									"key": "pageSize",
									"value": "25"
								},
								{
									"key": "type",
									"value": "0"
								},
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Данные счетов 1 Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"supplyPaymetnScoreId\", pm.response.json().accounts[0].id);\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "bcff1291-834f-48d7-9b51-24274bec4ca2"
							}
						}
					],
					"id": "7cf1cd0d-7d40-47ed-951c-a60532a16536",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"org",
								"account",
								"list"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Список поставщиков Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"supplierId\", pm.response.json()[0].id);\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "742fb788-c292-4a28-a94d-cbbc09125e95"
							}
						}
					],
					"id": "ff3bca44-eb2c-4bfa-a470-cc0a610e7bd1",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/org/agent/list-agent-names?agentType=SUPPLIER&storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"org",
								"agent",
								"list-agent-names"
							],
							"query": [
								{
									"key": "agentType",
									"value": "SUPPLIER"
								},
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Данные товара(безЦены) Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"dataOfProduct\", JSON.stringify(pm.response.json().product));\r",
									"pm.collectionVariables.set(\"stockQuantity\", pm.response.json().stockQuantity);\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "77a86780-a3e5-4129-8fcc-ed0af0ebf980"
							}
						}
					],
					"id": "9e93e282-38dd-4364-997e-ca8ad5ba9e90",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/nom/product/findProductByBarcode?showServices=false&showPackages=false&showDeleted=true&barcode={{allBarcode}}&create=true&storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"nom",
								"product",
								"findProductByBarcode"
							],
							"query": [
								{
									"key": "showServices",
									"value": "false"
								},
								{
									"key": "showPackages",
									"value": "false"
								},
								{
									"key": "showDeleted",
									"value": "true"
								},
								{
									"key": "barcode",
									"value": "{{allBarcode}}"
								},
								{
									"key": "create",
									"value": "true"
								},
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Данные товара(сЦенами) Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let category = pm.response.json().category;\r",
									"if(category !== null ) {\r",
									"    pm.collectionVariables.set(\"dataOfCategory\", JSON.stringify(pm.response.json().category));\r",
									"\r",
									"\r",
									"    let subCategory = pm.response.json().subCategory;\r",
									"    if(subCategory !== null) {\r",
									"        pm.collectionVariables.set(JSON.stringify(\"dataOfSubCategory\", JSON.stringify(pm.response.json().subCategory)));\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"dataOfSubCategory\", JSON.stringify({\"id\":null}));\r",
									"    }\r",
									"}\r",
									"\r",
									"pm.collectionVariables.set(\"supplyProductId\", pm.response.json().productInfo.id);\r",
									"pm.collectionVariables.set(\"supplyArrivalCostProductPrise\", pm.response.json().productPrice.arrivalCost);\r",
									"pm.collectionVariables.set(\"supplySellingPriceProductPrise\", pm.response.json().productPrice.sellingPrice);\r",
									"pm.collectionVariables.set(\"supplyWholesalePriceProductPrice\", pm.response.json().productPrice.wholesalePrice);\r",
									"\r",
									"var supplyArrivalCostProduct = parseFloat(pm.response.json().productPrice.arrivalCost);\r",
									"var supplySellingPriceProduct = parseInt(pm.response.json().productPrice.sellingPrice);\r",
									"\r",
									"var amountMarkup = supplySellingPriceProduct - supplyArrivalCostProduct;\r",
									"var onePercent = supplyArrivalCostProduct / 100;\r",
									"var percentMarkup = amountMarkup / onePercent;\r",
									"pm.collectionVariables.set(\"percentMarkup\", percentMarkup);\r",
									"\r",
									"var quantityProduct = 1;\r",
									"pm.collectionVariables.set(\"quantityProduct\", quantityProduct);\r",
									"var supplyAmount = supplyArrivalCostProduct * quantityProduct;\r",
									"\r",
									"pm.collectionVariables.set(\"supplyAmount\", supplyAmount);\r",
									"\r",
									"var newQuantityProduct = 10;\r",
									"var newSupplyArrivalCostProduct = supplyArrivalCostProduct + 10;\r",
									"var supplySumMarkup = (newSupplyArrivalCostProduct / 100) * percentMarkup;\r",
									"var newSupplySellingPriceProduct = newSupplyArrivalCostProduct + supplySumMarkup;\r",
									"var newSupplyAmount = newSupplyArrivalCostProduct * newQuantityProduct;\r",
									"pm.collectionVariables.set(\"newQuantityProduct\", newQuantityProduct);\r",
									"pm.collectionVariables.set(\"newSupplyAmount\", newSupplyAmount);\r",
									"pm.collectionVariables.set(\"newSupplyArrivalCostProduct\", newSupplyArrivalCostProduct);\r",
									"pm.collectionVariables.set(\"newSupplySellingPriceProduct\", newSupplySellingPriceProduct);\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "4e4763f7-8b2e-463b-8e4d-85543b4cb17b"
							}
						}
					],
					"id": "aa6a472e-82b5-450d-bec3-3ce00f73875b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/nom/product/{{allBarcode}}?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"nom",
								"product",
								"{{allBarcode}}"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "supply under con",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d387cd7c-fb29-46a2-88ae-de44842e7e2b",
								"exec": [
									"let date = new Date('2021-08-30T00:00:00.000Z');\r",
									"date.setMilliseconds(date.getMilliseconds() );\r",
									"console.log(date.toISOString());"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "d6d37658-7c30-4668-a087-16ccce6bd8ad",
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"console.log(pm.response.json().id);\r",
									"pm.collectionVariables.set(\"consSupplyId\", pm.response.json().id);\r",
									"\r",
									"console.log(pm.response.json().id);\r",
									"pm.collectionVariables.set(\"paymentCons\", pm.response.json().time);\r",
									"\r",
									"pm.collectionVariables.set(\"PaymentConsAmount\", pm.response.json().amount);\r",
									"setTimeout(function(){}, 5000);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "3e963cc9-682d-4d72-b352-066fffed9d65",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"time\": \"{{isoTimestampNow}}\",\r\n    \"amount\": {{supplyAmount}},\r\n    \"paymentType\": 1,\r\n    \"payment\": 0,\r\n    \"supplyProducts\": [\r\n        {\r\n            \"isDisabledSellingPrice\": false,\r\n            \"isVisiblePriceBefore\": false,\r\n            \"isVisibleOldSellingPrice\": false,\r\n            \"__markupOrigin\": {{percentMarkup}},\r\n            \"productDetail\": {\r\n                \"productUnits\": [],\r\n                \"product\": {{dataOfProduct}},\r\n                \"additionalCodes\": [],\r\n                \"arrivalCost\": {{supplyArrivalCostProductPrise}},\r\n                \"sellingPrice\": {{supplySellingPriceProductPrise}},\r\n                \"wholesalePrice\": {{supplyWholesalePriceProductPrice}},\r\n                \"markup\": {{percentMarkup}},\r\n                \"packages\": [],\r\n                \"isPackage\": false,\r\n                \"isService\": false,\r\n                \"additionalExpense\": null,\r\n                \"storeId\": {{StoreId}},\r\n                \"productId\": {{supplyProductId}},\r\n                \"isHiddenOnScale\": false,\r\n                \"numberOnScale\": null,\r\n                \"stockQuantity\": {{stockQuantity}},\r\n                \"category\": {{dataOfCategory}},\r\n                \"subCategory\": {{dataOfSubCategory}}\r\n            },\r\n            \"quantity\": {{quantityProduct}},\r\n            \"arrivalCost\": {{supplyArrivalCostProductPrise}},\r\n            \"priceBefore\": {{supplySellingPriceProductPrise}},\r\n            \"oldArrivalCost\": {{supplyArrivalCostProductPrise}},\r\n            \"discount\": 0,\r\n            \"sellingPrice\": {{supplySellingPriceProductPrise}},\r\n            \"oldSellingPrice\": {{supplySellingPriceProductPrise}},\r\n            \"sellingPriceCopy\": {{supplySellingPriceProductPrise}},\r\n            \"rowId\": 0,\r\n            \"price\": {{supplyArrivalCostProductPrise}},\r\n            \"amount\": {{supplyAmount}},\r\n            \"oldAmount\": {{supplyAmount}},\r\n            \"oldMarkup\": 0\r\n        }\r\n    ],\r\n    \"bonusProducts\": [],\r\n    \"overdueProducts\": [],\r\n    \"type\": 0,\r\n    \"isSupplyChange\": true,\r\n    \"isBindProductToSupplier\": true,\r\n    \"isSellingPriceChangeable\": true,\r\n    \"isSumSameProducts\": true,\r\n    \"isRestoreDeletedProducts\": true,\r\n    \"consignmentAmount\": 0,\r\n    \"consignmentComment\": \"\",\r\n    \"supplierId\": {{supplierId}},\r\n    \"accountId\": {{supplyPaymetnScoreId}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/opr/supplies/create?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"opr",
								"supplies",
								"create"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "payment supplyCons",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "eff1f570-10a2-40ee-ab59-977f64907de7",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "8ced8a26-8945-4326-8b53-156d3eddbd9b",
								"exec": [
									"function formatDateWithTimeZone(date) {\r",
									"  if (date === null || date === undefined) {\r",
									"    return '';\r",
									"  }\r",
									"  return (\r",
									"    format2(date.getFullYear()) +\r",
									"    '-' +\r",
									"    format2(date.getMonth() + 1) +\r",
									"    '-' +\r",
									"    format2(date.getDate()) +\r",
									"    'T' +\r",
									"    format2(date.getHours()) +\r",
									"    ':' +\r",
									"    format2(date.getMinutes() - 2) +\r",
									"    ':' +\r",
									"    format2(date.getSeconds()) +\r",
									"    getTimeZone(date)\r",
									"  );\r",
									"}\r",
									"\r",
									"function format2(item) {\r",
									"  if (item < 10) {\r",
									"    return '0' + item.toString();\r",
									"  }\r",
									"  return item.toString();\r",
									"}\r",
									"\r",
									"function getTimeZone(date) {\r",
									"  const offset = date.getTimezoneOffset();\r",
									"  const o = Math.abs(offset);\r",
									"  return (\r",
									"    (offset < 0 ? '+' : '-') +\r",
									"    ('00' + Math.floor(o / 60)).slice(-2) +\r",
									"    ('00' + (o % 60)).slice(-2)\r",
									"  );\r",
									"}\r",
									"pm.collectionVariables.set(\"isoTimestampV2\", formatDateWithTimeZone(new Date()))\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "df093b29-5dc6-4475-9569-0548bdd68a09",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"date\": \"{{isoTimestampV2}}\",\r\n    \"amount\": {{PaymentConsAmount}},\r\n    \"comment\": \"\",\r\n    \"accountId\": {{supplyPaymetnScoreId}},\r\n    \"supplyId\": {{consSupplyId}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/fin/payment/doPay?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"fin",
								"payment",
								"doPay"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "list payment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"paymentConsId\", pm.response.json().list[0].id);\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"id": "e2350d92-0f99-4e75-be6b-4b00c73ab257"
							}
						}
					],
					"id": "b36061e2-eb20-4302-ace9-b17808478d84",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/fin/payment/list?first=0&pageSize=20&filters=%5B%5D&storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"fin",
								"payment",
								"list"
							],
							"query": [
								{
									"key": "first",
									"value": "0"
								},
								{
									"key": "pageSize",
									"value": "20"
								},
								{
									"key": "filters",
									"value": "%5B%5D"
								},
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delete payment supplyCons",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "b9ecf367-94a0-4cdc-97a7-a21d71f6245c"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function formatDateWithTimeZone(date) {\r",
									"  if (date === null || date === undefined) {\r",
									"    return '';\r",
									"  }\r",
									"  return (\r",
									"    format2(date.getFullYear()) +\r",
									"    '-' +\r",
									"    format2(date.getMonth() + 1) +\r",
									"    '-' +\r",
									"    format2(date.getDate()) +\r",
									"    'T' +\r",
									"    format2(date.getHours()) +\r",
									"    ':' +\r",
									"    format2(date.getMinutes()) +\r",
									"    ':' +\r",
									"    format2(date.getSeconds()) +\r",
									"    getTimeZone(date)\r",
									"  );\r",
									"}\r",
									"\r",
									"function format2(item) {\r",
									"  if (item < 10) {\r",
									"    return '0' + item.toString();\r",
									"  }\r",
									"  return item.toString();\r",
									"}\r",
									"\r",
									"function getTimeZone(date) {\r",
									"  const offset = date.getTimezoneOffset();\r",
									"  const o = Math.abs(offset);\r",
									"  return (\r",
									"    (offset < 0 ? '+' : '-') +\r",
									"    ('00' + Math.floor(o / 60)).slice(-2) +\r",
									"    ('00' + (o % 60)).slice(-2)\r",
									"  );\r",
									"}\r",
									"pm.collectionVariables.set(\"isoTimestampV2\", formatDateWithTimeZone(new Date()))"
								],
								"type": "text/javascript",
								"id": "cd6ec165-48a2-48f9-836a-973f2885ea0f"
							}
						}
					],
					"id": "077223a0-df73-4289-a74b-94544361f307",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/fin/payment/remove/{{paymentConsId}}?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"fin",
								"payment",
								"remove",
								"{{paymentConsId}}"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				}
			],
			"id": "1df1c173-4da6-4a95-a806-b0916d1253d7"
		},
		{
			"name": "Возвраты поставщикам Copy",
			"item": [
				{
					"name": "Product Info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"var supplyReturnProductPrice = (pm.response.json().list[0].arrivalCost);\r",
									"pm.collectionVariables.set(\"supplyReturnProductBarcode\", pm.response.json().list[0].barcode);\r",
									"pm.collectionVariables.set(\"supplyReturnProductPrice\", supplyReturnProductPrice);\r",
									"\r",
									"\r",
									"\r",
									"var quantity = 1\r",
									"var supplyReturnAmount = quantity * (pm.response.json().list[0].arrivalCost);\r",
									"pm.collectionVariables.set(\"quantitySupplyReturnProduct\", quantity);\r",
									"pm.collectionVariables.set(\"supplyReturnAmount\", supplyReturnAmount);"
								],
								"type": "text/javascript",
								"id": "2fd7b2a1-3ced-4352-aa2a-1490d1f660c6"
							}
						}
					],
					"id": "6769eb7e-f3e4-4cb1-a35c-57ea91d2db2b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/nom/product/all?first=0&pageSize=25&type=0&storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"nom",
								"product",
								"all"
							],
							"query": [
								{
									"key": "first",
									"value": "0"
								},
								{
									"key": "pageSize",
									"value": "25"
								},
								{
									"key": "type",
									"value": "0"
								},
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Agents Info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.collectionVariables.set(\"supplyReturnAgentsId\", pm.response.json().agents[0].id);\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"id": "723bafb9-81e1-4705-b155-4131df6cebbd"
							}
						}
					],
					"id": "847af6f4-b493-43aa-943f-7597fb315f78",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/org/agent/list?agentType=SUPPLIER&first=0&pageSize=25&deleted=false&storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"org",
								"agent",
								"list"
							],
							"query": [
								{
									"key": "agentType",
									"value": "SUPPLIER"
								},
								{
									"key": "first",
									"value": "0"
								},
								{
									"key": "pageSize",
									"value": "25"
								},
								{
									"key": "deleted",
									"value": "false"
								},
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Account Info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.collectionVariables.set(\"supplyReturnaccountId\", pm.response.json().accounts[0].id);"
								],
								"type": "text/javascript",
								"id": "019a99f7-b1d4-46fc-944b-790b65a1ffbb"
							}
						}
					],
					"id": "edb51fac-c6bc-4f25-86e1-a708f4ef8a8f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/org/account/list?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"org",
								"account",
								"list"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "create upplyReturn",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ca8c4c9c-10d2-40a5-a980-a5160335656f",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"console.log(pm.response.json().supplyReturn.id);\r",
									"pm.collectionVariables.set(\"supplyReturnId\", pm.response.json().supplyReturn.id);\r",
									"\r",
									"var newQuantity = (pm.response.json().products[0].quantity) + 1;\r",
									"var newAmount = (pm.response.json().supplyReturn.amount)*newQuantity;\r",
									"pm.collectionVariables.set(\"newSupplyReturnAmount\", newAmount);\r",
									"pm.collectionVariables.set(\"newQuantitySupplyReturnProduct\", newQuantity);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "02f0c7fc-b270-4b3f-be53-9259a2201470",
								"exec": [
									"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-3000);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "3419db0e-d317-4940-9653-febe08f4bdcb",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"products\": [\r\n        {\r\n            \"quantity\": {{quantitySupplyReturnProduct}},\r\n            \"price\": {{supplyReturnProductPrice}},\r\n            \"barcode\": {{supplyReturnProductBarcode}}\r\n        }\r\n    ],\r\n    \"supplyReturn\": {\r\n        \"agentId\": {{supplyReturnAgentsId}},\r\n        \"documentTime\": \"{{isoTimestampNow}}\",\r\n        \"amount\": {{supplyReturnAmount}}\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/opr/supply-returns/create?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"opr",
								"supply-returns",
								"create"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "update supplyReturn",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "66492f6b-7904-42e4-8591-4cd12eae148d",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "c55af2eb-9cb5-4724-ba9f-760ef8eb5a15",
								"exec": [
									"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-3000);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "0a96b82c-229d-4668-895d-1f595f82eabd",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"products\": [\r\n        {\r\n            \"quantity\": {{newQuantitySupplyReturnProduct}},\r\n            \"price\": {{supplyReturnProductPrice}},\r\n            \"barcode\": {{supplyReturnProductBarcode}}\r\n        }\r\n    ],\r\n    \"supplyReturn\": {\r\n        \"note\": null,\r\n        \"agentId\": {{supplyReturnAgentsId}},\r\n        \"documentTime\": \"{{isoTimestampNow}}\",\r\n        \"amount\": {{newSupplyReturnAmount}}\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/opr/supply-returns/update/{{supplyReturnId}}?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"opr",
								"supply-returns",
								"update",
								"{{supplyReturnId}}"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "provide supplyReturn",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "00a603d1-b6b4-48f0-937d-407c8dce0bf3",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "8205373b-88e3-414b-985e-d8b4b4871c8c",
								"exec": [
									"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-3000);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "3b4e6d7d-7a36-490a-a5db-da49a645aa1f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "accountId",
									"value": "{{supplyReturnaccountId}}",
									"type": "text"
								},
								{
									"key": "fullPayment",
									"value": "true",
									"type": "text"
								},
								{
									"key": "paymentAmount",
									"value": "0",
									"type": "text"
								},
								{
									"key": "paymentTime",
									"value": "{{isoTimestampNow}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/opr/supply-returns/provide/{{supplyReturnId}}?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"opr",
								"supply-returns",
								"provide",
								"{{supplyReturnId}}"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "unprovide supplyReturn",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2715a447-4edf-45a0-84ff-9dfd9f709ea5",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "2a9269ec-969a-4f26-9067-e05068f4b95f",
								"exec": [
									"pm.collectionVariables.set(\"isoTimestampNow\", Date.now()-3000);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "10f8666a-e895-4654-9275-4079b0ffeb79",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"note\": null,\r\n    \"agentId\": {{supplyReturnAgentsId}},\r\n    \"documentTime\": \"{{isoTimestampNow}}\",\r\n    \"amount\": {{newSupplyReturnAmount}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/rest/cabinet/opr/supply-returns/unprovide/{{supplyReturnId}}?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"opr",
								"supply-returns",
								"unprovide",
								"{{supplyReturnId}}"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delete supply return",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"id": "2098ed62-3251-4def-acb6-4d153c0c087e"
							}
						}
					],
					"id": "fdac9c73-c3bc-4f67-b8bd-1c8840322a00",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}/rest/cabinet/opr/supply-returns/delete/{{supplyReturnId}}?storeId={{StoreId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"rest",
								"cabinet",
								"opr",
								"supply-returns",
								"delete",
								"{{supplyReturnId}}"
							],
							"query": [
								{
									"key": "storeId",
									"value": "{{StoreId}}"
								}
							]
						}
					},
					"response": []
				}
			],
			"id": "a12fbb25-59da-4793-a514-39b9bcc7667b"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "f01a9e10-f08e-454d-9b55-f3c4124b91a9",
				"type": "text/javascript",
				"exec": [
					"pm.request.headers.add({",
					"    key: \"api-ver\",",
					"    value: pm.globals.get(\"api_ver\")",
					"});",
					"",
					"pm.request.headers.add({",
					"    key: \"client-ver\",",
					"    value: pm.globals.get(\"client_ver\")",
					"});",
					"",
					"pm.request.headers.add({",
					"    key: \"Authorization\",",
					"    value: pm.globals.get(\"user_token\")",
					"});"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9a56c8c1-ed0b-4dcd-8f5a-6ba9d9b2fe6c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "e5b3ba51-b641-4e78-a533-a46e1da3ad5b",
			"key": "type",
			"value": ""
		},
		{
			"id": "2de904d7-6c91-4651-aecd-c755a353a731",
			"key": "barcode",
			"value": ""
		},
		{
			"id": "5dfd4229-b4a4-45b8-9cde-d4ffa568391a",
			"key": "posId",
			"value": ""
		},
		{
			"id": "b51b67fb-3c2a-4a30-ba27-8bf8827c2139",
			"key": "currentDate",
			"value": ""
		},
		{
			"id": "95e3e879-5675-42fe-a915-42323bd77812",
			"key": "dateMonthAgo",
			"value": ""
		},
		{
			"id": "f74450a3-d608-418e-b6dc-2f1e19caff7c",
			"key": "userId",
			"value": ""
		},
		{
			"id": "df36b805-0438-4bc9-aeb7-516df09eab0a",
			"key": "saleProductBarcode",
			"value": ""
		},
		{
			"id": "4989cba5-44c5-4fda-bf19-d84cedc59ec4",
			"key": "sellingPriceSaleProduct",
			"value": ""
		},
		{
			"id": "55047378-3a6b-4f51-ba89-bb1ad3184a44",
			"key": "quantitySaleProduct",
			"value": ""
		},
		{
			"id": "a89f8b62-9efd-48b3-9ec0-5204675eac8b",
			"key": "amountSale",
			"value": ""
		},
		{
			"id": "2666a800-378a-4056-8d10-369734618238",
			"key": "scorePaymentSale",
			"value": ""
		},
		{
			"id": "38c60aeb-4c35-4285-8b38-e4195f942c12",
			"key": "isoTimestampNow",
			"value": ""
		},
		{
			"id": "f30d5e39-2275-4b29-837c-cde3beee25a5",
			"key": "saleId",
			"value": ""
		},
		{
			"id": "bdb65ad0-36ec-4346-8ac1-2e12a7250640",
			"key": "saleReceiptNo",
			"value": ""
		},
		{
			"id": "c1dd50b3-780c-4a34-82ef-ff8f09739ccd",
			"key": "salePosId",
			"value": ""
		},
		{
			"id": "247fc6de-9fe7-4821-8982-6ed278fb01d4",
			"key": "newQuantitySaleProduct",
			"value": ""
		},
		{
			"id": "e1a0c546-b145-497f-870a-467e48a83025",
			"key": "newSaleAmount",
			"value": ""
		},
		{
			"id": "d4f91064-f1bb-450f-8359-0d518b6563d5",
			"key": "saleCustomerId",
			"value": ""
		},
		{
			"id": "751dcc3c-afb3-45f2-8544-76c67806a8e8",
			"key": "refundProductBarcode",
			"value": ""
		},
		{
			"id": "c8849cba-4499-486a-b74c-35a0a1b3d669",
			"key": "sellingPriceRefundProduct",
			"value": ""
		},
		{
			"id": "67c4d3ba-518a-4b56-b629-5259a8c54364",
			"key": "quantityRefundProduct",
			"value": ""
		},
		{
			"id": "87884137-e96b-4b46-85ae-0752e15e516b",
			"key": "amountRefund",
			"value": ""
		},
		{
			"id": "4addb29c-5e15-4ee2-92b3-9a6622103d40",
			"key": "scorePaymentRefund",
			"value": ""
		},
		{
			"id": "44cf6053-0978-45dc-9f4e-173b7d2de7af",
			"key": "timestampNow",
			"value": ""
		},
		{
			"id": "856168b9-1488-4b90-a12e-a5a5d08d6675",
			"key": "refundId",
			"value": ""
		},
		{
			"id": "3360c781-a202-443c-8738-4d1498c1cf3c",
			"key": "refundCashierId",
			"value": ""
		},
		{
			"id": "d254078c-040e-470c-925a-930565463066",
			"key": "refundPosId",
			"value": ""
		},
		{
			"id": "2f6bd612-f480-419a-a67f-bff3f962d181",
			"key": "newQuantityRefundProduct",
			"value": ""
		},
		{
			"id": "e9418ebd-9bad-4e56-9b27-3bb491c3a365",
			"key": "newAmountRefund",
			"value": ""
		},
		{
			"id": "a3a276fe-94f5-4cb7-8b36-829d73e57818",
			"key": "refundSaleId",
			"value": ""
		},
		{
			"id": "e0975034-2c7e-45c0-af5a-5067dc812777",
			"key": "allBarcode",
			"value": ""
		},
		{
			"id": "64d3898b-c4ef-4696-b5f2-4b7ed8f315e2",
			"key": "supplyPaymetnScoreId",
			"value": ""
		},
		{
			"id": "ae4cb2de-5edf-4da0-99f5-54e1da9580ed",
			"key": "supplierId",
			"value": ""
		},
		{
			"id": "dc12d525-6111-44f5-9b7c-808540d60fd3",
			"key": "dataOfProduct",
			"value": ""
		},
		{
			"id": "a9f4ad64-2e9e-4c97-a529-0c36b5579c89",
			"key": "stockQuantity",
			"value": ""
		},
		{
			"id": "e076c0ea-c852-4dc5-8b83-8ef83568edaa",
			"key": "dataOfCategory",
			"value": ""
		},
		{
			"id": "fcca0847-400b-4149-a6da-eecb484b09a0",
			"key": "dataOfSubCategory",
			"value": ""
		},
		{
			"id": "ed84d2a9-94c1-477d-9316-66380105eb72",
			"key": "supplyProductId",
			"value": ""
		},
		{
			"id": "0b29f2dc-4557-4309-8bf9-ec6fd4828c8f",
			"key": "supplyArrivalCostProductPrise",
			"value": ""
		},
		{
			"id": "b4138114-665d-4ed3-aa75-ecc1f9a3ca26",
			"key": "supplySellingPriceProductPrise",
			"value": ""
		},
		{
			"id": "23837525-2443-41d7-a8b8-8ec6401e5d0d",
			"key": "supplyWholesalePriceProductPrice",
			"value": ""
		},
		{
			"id": "e945d4b8-1657-45fa-b7bc-4b49718d579e",
			"key": "percentMarkup",
			"value": ""
		},
		{
			"id": "c7be1916-4867-4f53-a265-a1f898dadfce",
			"key": "quantityProduct",
			"value": ""
		},
		{
			"id": "8a23d14b-85a5-4260-a5bb-7f54d8111cce",
			"key": "supplyAmount",
			"value": ""
		},
		{
			"id": "caf14a94-7960-4a57-b703-c1f98090c1d7",
			"key": "newQuantityProduct",
			"value": ""
		},
		{
			"id": "74eff97c-259b-4f3e-95c5-4dc47ca38410",
			"key": "newSupplyAmount",
			"value": ""
		},
		{
			"id": "be2b03f8-0ac0-44b6-8d19-4394cc4cb0f5",
			"key": "newSupplyArrivalCostProduct",
			"value": ""
		},
		{
			"id": "f6ff58cc-a0a3-4e61-9d3a-9f028e77f49f",
			"key": "newSupplySellingPriceProduct",
			"value": ""
		}
	]
}